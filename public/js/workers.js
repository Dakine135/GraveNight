!function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s="./clientSource/js/lineOfSight.worker.js")}({"./clientSource/js/lineOfSight.worker.js":
/*!***********************************************!*\
  !*** ./clientSource/js/lineOfSight.worker.js ***!
  \***********************************************/
/*! no static exports found */function(t,e,o){const n=o(/*! ../../shared/Utilities.js */"./shared/Utilities.js"),i=o(/*! ../../shared/Hitbox.js */"./shared/Hitbox.js");function r({objects:t,origin:e,point:o,distance:i=1/0}){let r=!1,x=null,y=1/0,c=null;for(var h in t){let i=t[h],l=a(i.hitbox,{x1:e.x,y1:e.y,x2:o.x,y2:o.y});if(l){let t=n.dist(l.point,e);y>t&&(c=i,y=t,r=l.point,x=l.line)}}if(r&&y<i){let t,o,n={x:x.x1,y:x.y1},i={x:x.x2,y:x.y2},a=l({point1:n,centerPoint:e}),h=l({point1:i,centerPoint:e}),s=l({point1:r,centerPoint:e});return a>h?((t=n).angle=a,(o=i).angle=h):((t=i).angle=h,(o=n).angle=a),r.angle=s,{collision:!0,point:r,dist:y,cwPoint:t,ccwPoint:o,object:c}}return{collision:!1,point:o}}function l({point1:t,point2:e=null,centerPoint:o}){null==e&&(e={x:o.x+10,y:o.y});let i=n.calculateAngle({point1:t,point2:e,centerPoint:o});return i<0&&(i=Math.abs(i)),i}function a(t,e){let o={x1:t.topLeft.x,y1:t.topLeft.y,x2:t.topRight.x,y2:t.topRight.y},r={x1:t.topRight.x,y1:t.topRight.y,x2:t.bottomRight.x,y2:t.bottomRight.y},l={x1:t.bottomRight.x,y1:t.bottomRight.y,x2:t.bottomLeft.x,y2:t.bottomLeft.y},a={x1:t.bottomLeft.x,y1:t.bottomLeft.y,x2:t.topLeft.x,y2:t.topLeft.y},x=!1,y=null,c=1/0,h=i.collideLineLine(e,o);h&&(x=h,y=o,c=n.dist(h,{x:e.x1,y:e.y1}));let s=i.collideLineLine(e,r);if(s){let t=n.dist(s,{x:e.x1,y:e.y1});t<c&&(x=s,y=r,c=t)}let p=i.collideLineLine(e,l);if(p){let t=n.dist(p,{x:e.x1,y:e.y1});t<c&&(x=p,y=l,c=t)}let u=i.collideLineLine(e,a);if(u){let t=n.dist(u,{x:e.x1,y:e.y1});t<c&&(x=u,y=a,c=t)}return{point:x,line:y}}function x({point:t,edge:e=!1,color:o="yellow",name:n="No Name",origin:i,camera:r}){let a=l({point1:t,centerPoint:i}),x=function({camera:t,point:e}){let o=t.x-t.width/2,n=t.y-t.height/2,i=Math.round(e.x-o),r=Math.round(e.y-n);return{x:i,y:r}}({camera:r,point:t});return x.edge=e,x.color=o,x.angle=a,x.name=n,x.count=this.orderPointsCreated,this.orderPointsCreated++,x}console.log("Worker created"),onmessage=function(t){let e=t.data,o=function({objectsInRange:t={},origin:e=null,renderDistance:o=500,camera:l=null}){let a=[];for(var y in t){let c=t[y],h=i.getVisualPoints({obj:c.hitbox,viewPoint:e,getPointsAfterEdge:!0});h.forEach(function(i){let y=i;i.extend&&(y=n.extendEndPoint({startPoint:e,endPoint:i,length:o}));let c=r({objects:t,origin:e,point:y}),h=x({point:c.point,edge:!c.collision,color:c.collision?"green":"yellow",name:"P",origin:e,camera:l});a.push(h)})}return a}({objectsInRange:e.objectsInRange,origin:e.origin,renderDistance:e.renderDistance,camera:e.camera});postMessage({points:o,offset:e.camera})}},"./shared/Hitbox.js":
/*!**************************!*\
  !*** ./shared/Hitbox.js ***!
  \**************************/
/*! no static exports found */function(t,e,o){var n=o(/*! ../shared/Utilities.js */"./shared/Utilities.js");e.create=({id:t=0,x:e=0,y:o=0,width:n=50,height:i=50,angle:r=0})=>{let l=o-i/2,a=o+i/2,x=e-n/2,y=e+n/2;return{id:t,x:e,y:o,width:n,height:i,angle:r,top:l,bottom:a,left:x,right:y,topLeft:{x:x,y:l},topRight:{x:y,y:l},bottomLeft:{x:x,y:a},bottomRight:{x:y,y:a},points:[{x:x,y:l},{x:y,y:l},{x:x,y:a},{x:y,y:a}]}},e.moveTo=function(t,e,o){t.hitbox.x=e,t.hitbox.y=o,function(t){let e=t.hitbox,o=e.y-e.height/2,n=e.y+e.height/2,i=e.x-e.width/2,r=e.x+e.width/2;e.top=o,e.bottom=n,e.left=i,e.right=r,e.topLeft={x:i,y:o},e.topRight={x:r,y:o},e.bottomLeft={x:i,y:n},e.bottomRight={x:r,y:n}}(t)},e.getVisualPoints=function({obj:t,viewPoint:e,getPointsAfterEdge:o=!1}){let i=[];if(e.y<t.top)if(e.x<t.left){i=[t.topLeft,t.topRight,t.bottomLeft];let o=n.rotatePoint({center:e,point:t.bottomLeft,angle:.01});o.extend=!0,i.push(o);let r=n.rotatePoint({center:e,point:t.topRight,angle:-.01});r.extend=!0,i.push(r)}else if(e.x>t.right){i=[t.topLeft,t.topRight,t.bottomRight];let o=n.rotatePoint({center:e,point:t.topLeft,angle:.01});o.extend=!0,i.push(o);let r=n.rotatePoint({center:e,point:t.bottomRight,angle:-.01});r.extend=!0,i.push(r)}else{i=[t.topLeft,t.topRight];let o=n.rotatePoint({center:e,point:t.topLeft,angle:.01});o.extend=!0,i.push(o);let r=n.rotatePoint({center:e,point:t.topRight,angle:-.01});r.extend=!0,i.push(r)}else if(e.y>t.bottom)if(e.x<t.left){i=[t.topLeft,t.bottomLeft,t.bottomRight];let o=n.rotatePoint({center:e,point:t.bottomRight,angle:.01});o.extend=!0,i.push(o);let r=n.rotatePoint({center:e,point:t.topLeft,angle:-.01});r.extend=!0,i.push(r)}else if(e.x>t.right){i=[t.topRight,t.bottomLeft,t.bottomRight];let o=n.rotatePoint({center:e,point:t.topRight,angle:.01});o.extend=!0,i.push(o);let r=n.rotatePoint({center:e,point:t.bottomLeft,angle:-.01});r.extend=!0,i.push(r)}else{i=[t.bottomLeft,t.bottomRight];let o=n.rotatePoint({center:e,point:t.bottomRight,angle:.01});o.extend=!0,i.push(o);let r=n.rotatePoint({center:e,point:t.bottomLeft,angle:-.01});r.extend=!0,i.push(r)}else if(e.x<t.left){i=[t.topLeft,t.bottomLeft];let o=n.rotatePoint({center:e,point:t.bottomLeft,angle:.01});o.extend=!0,i.push(o);let r=n.rotatePoint({center:e,point:t.topLeft,angle:-.01});r.extend=!0,i.push(r)}else if(e.x>t.right){i=[t.topRight,t.bottomRight];let o=n.rotatePoint({center:e,point:t.topRight,angle:.01});o.extend=!0,i.push(o);let r=n.rotatePoint({center:e,point:t.bottomRight,angle:-.01});r.extend=!0,i.push(r)}else console.log("Catch in getVisualPoints, possibly viewPoint is inside the box");return(i.length<4||i.length>5)&&console.log("Wrong amount of points:",i.length),i},e.colliding=function(t,e){let o=t.hitbox,n=e.hitbox,i=!1;return i=!(o.top>n.bottom||o.bottom<n.top||o.right<n.left||o.left>n.right)},e.collideLineLine=function(t,e){var o=((e.x2-e.x1)*(t.y1-e.y1)-(e.y2-e.y1)*(t.x1-e.x1))/((e.y2-e.y1)*(t.x2-t.x1)-(e.x2-e.x1)*(t.y2-t.y1)),n=((t.x2-t.x1)*(t.y1-e.y1)-(t.y2-t.y1)*(t.x1-e.x1))/((e.y2-e.y1)*(t.x2-t.x1)-(e.x2-e.x1)*(t.y2-t.y1));return o>=0&&o<=1&&n>=0&&n<=1&&{x:t.x1+o*(t.x2-t.x1),y:t.y1+o*(t.y2-t.y1)}},e.collideLineRect=function(t,e){let o=this.collideLineLine(x1,y1,x2,y2,rx,ry,rx,ry+rh),n=this.collideLineLine(x1,y1,x2,y2,rx+rw,ry,rx+rw,ry+rh),i=this.collideLineLine(x1,y1,x2,y2,rx,ry,rx+rw,ry),r=this.collideLineLine(x1,y1,x2,y2,rx,ry+rh,rx+rw,ry+rh);return!!(o||n||i||r)&&{left:o,right:n,top:i,bottom:r}}},"./shared/Utilities.js":
/*!*****************************!*\
  !*** ./shared/Utilities.js ***!
  \*****************************/
/*! no static exports found */function(t,e){e.error=t=>{new Error(t)},e.randomColor=function(){return{r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random())}},e.midPoint=(t,e)=>{return{x:e.x-(e.x-e.x)/2,y:e.y-(e.y-t.y)/2}},e.rotatePoint=({center:t={x:0,y:0},point:e={x:0,y:0},angle:o=0})=>{let n=Math.sin(o),i=Math.cos(o),r={x:e.x,y:e.y};r.x-=t.x,r.y-=t.y;let l=r.x*i-r.y*n,a=r.x*n+r.y*i;return r.x=l+t.x,r.y=a+t.y,r},e.extendEndPoint=({startPoint:t,endPoint:e,length:o})=>{let n=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),i=o-n;return{x:e.x+(e.x-t.x)/n*i,y:e.y+(e.y-t.y)/n*i}},e.dist=function(t,e){let o=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return Math.sqrt(Math.pow(o,2)+Math.pow(n,2),2)},e.calculateAngle=({point1:t,point2:e,centerPoint:o={x:0,y:0}})=>{if(t.x===e.x&&t.y===e.y)return 0;let n={x:t.x-o.x,y:t.y-o.y},i={x:e.x-o.x,y:e.y-o.y},r=Math.atan2(n.y,n.x),l=Math.atan2(i.y,i.x);return r<0&&(r+=2*Math.PI),l<0&&(l+=2*Math.PI),l-r},e.mapNum=({input:t,start1:e,end1:o,start2:n,end2:i})=>{return t<e?t=e:t>o&&(t=o),(i-n)*((t-e)/(o-e))+n},e.cloneObject=function t(e){let o={};for(var n in e){let i=e[n];"object"==typeof i&&null!==i&&(o[n]=t(i)),null!==i&&(o[n]=i)}return o},e.memorySizeOf=function(t){var e=0;return function(t){return t<1024?t+" bytes":t<1048576?(t/1024).toFixed(3)+" KiB":t<1073741824?(t/1048576).toFixed(3)+" MiB":(t/1073741824).toFixed(3)+" GiB"}(function t(o){if(null!=o)switch(typeof o){case"number":e+=8;break;case"string":e+=2*o.length;break;case"boolean":e+=4;break;case"object":var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n||"Array"===n)for(var i in o)o.hasOwnProperty(i)&&t(o[i]);else e+=2*o.toString().length}return e}(t))}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50U291cmNlL2pzL2xpbmVPZlNpZ2h0Lndvcmtlci5qcyIsIndlYnBhY2s6Ly8vLi9zaGFyZWQvSGl0Ym94LmpzIiwid2VicGFjazovLy8uL3NoYXJlZC9VdGlsaXRpZXMuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJVdGlsaXRpZXMiLCJIaXRib3giLCJnZXRDb2xsaXNpb24iLCJvYmplY3RzIiwib3JpZ2luIiwicG9pbnQiLCJkaXN0YW5jZSIsIkluZmluaXR5IiwiY2xvc2VzdENvbGxpc2lvbiIsImNsb3Nlc3RTZWdtZW50IiwiY2xvc2VzdERpc3QiLCJjbG9zZXN0T2JqIiwiaWQiLCJjb2xsaXNpb24iLCJnZXRJbnRlcnNlY3Rpb24iLCJoaXRib3giLCJ4MSIsIngiLCJ5MSIsInkiLCJ4MiIsInkyIiwiZGlzdCIsImxpbmUiLCJjd1BvaW50IiwiY2N3UG9pbnQiLCJwb2ludDEiLCJwb2ludDIiLCJhbmdsZUNvbGxpc2lvblRvUG9pbnQxIiwiY2FsY3VsYXRlQW5nbGUiLCJjZW50ZXJQb2ludCIsImFuZ2xlQ29sbGlzaW9uVG9Qb2ludDIiLCJhbmdsZUNvbGxpc2lvbiIsImFuZ2xlIiwicEFuZ2xlIiwiTWF0aCIsImFicyIsImNvcm5lcnMiLCJib3hMaW5lVG9wIiwidG9wTGVmdCIsInRvcFJpZ2h0IiwiYm94TGluZVJpZ2h0IiwiYm90dG9tUmlnaHQiLCJib3hMaW5lQm90dG9tIiwiYm90dG9tTGVmdCIsImJveExpbmVMZWZ0IiwiaW50ZXJzZWN0aW9uIiwiaW50ZXJzZWN0aW5nU2VnbWVudCIsInRvcCIsImNvbGxpZGVMaW5lTGluZSIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsImdldFZpZXdQb2ludCIsImVkZ2UiLCJjb2xvciIsImNhbWVyYSIsInZpZXdQb2ludCIsIm9yZ2lnaW5YIiwid2lkdGgiLCJvcmdpZ2luWSIsImhlaWdodCIsInR4Iiwicm91bmQiLCJ0eSIsInRyYW5zbGF0ZUNhbWVyYSIsImNvdW50IiwidGhpcyIsIm9yZGVyUG9pbnRzQ3JlYXRlZCIsImNvbnNvbGUiLCJsb2ciLCJvbm1lc3NhZ2UiLCJldmVudCIsImRhdGEiLCJwb2ludHNUb1NlbmQiLCJvYmplY3RzSW5SYW5nZSIsInJlbmRlckRpc3RhbmNlIiwibGlzdE9mUG9pbnRzIiwicG9pbnRzIiwiZ2V0VmlzdWFsUG9pbnRzIiwib2JqIiwiZ2V0UG9pbnRzQWZ0ZXJFZGdlIiwiZm9yRWFjaCIsInBvaW50VG9DaGVjayIsImV4dGVuZCIsImV4dGVuZEVuZFBvaW50Iiwic3RhcnRQb2ludCIsImVuZFBvaW50IiwibGVuZ3RoIiwicHVzaCIsImdldFBvaW50cyIsInBvc3RNZXNzYWdlIiwib2Zmc2V0IiwibW92ZVRvIiwidXBkYXRlIiwicmV0dXJuUG9pbnRzIiwicFJvdGF0ZWRDVyIsInJvdGF0ZVBvaW50IiwiY2VudGVyIiwicFJvdGF0ZWRDQ1ciLCJjb2xsaWRpbmciLCJvYmoxIiwib2JqMiIsImhpdGJveDEiLCJoaXRib3gyIiwicm91Z2hDb2xsaWRpbmciLCJsaW5lMSIsImxpbmUyIiwidUEiLCJ1QiIsImNvbGxpZGVMaW5lUmVjdCIsInJlYyIsInJ4IiwicnkiLCJyaCIsInJ3IiwiZXJyb3IiLCJzdHJpbmciLCJFcnJvciIsInJhbmRvbUNvbG9yIiwiZmxvb3IiLCJyYW5kb20iLCJnIiwiYiIsIm1pZFBvaW50Iiwic2luIiwiY29zIiwibmV3UG9pbnQiLCJ4bmV3IiwieW5ldyIsImN1cnJlbnRsZW5ndGgiLCJzcXJ0IiwicG93IiwiYW1vdW50IiwiZGlmZlgiLCJkaWZmWSIsInAxVHJhbnMiLCJwMlRyYW5zIiwiYW5nbGVPZlAxIiwiYXRhbjIiLCJhbmdsZU9mUDIiLCJQSSIsIm1hcE51bSIsImlucHV0Iiwic3RhcnQxIiwiZW5kMSIsInN0YXJ0MiIsImVuZDIiLCJjbG9uZU9iamVjdCIsIm5ld09iaiIsInByb3BlcnkiLCJtZW1vcnlTaXplT2YiLCJieXRlcyIsInRvRml4ZWQiLCJmb3JtYXRCeXRlU2l6ZSIsInNpemVPZiIsIm9iakNsYXNzIiwidG9TdHJpbmciLCJzbGljZSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQs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QUNBLFFBQUFySyxLQUFBeUYsRUFDQUEsRUFBQW5GLGVBQUFOLElBQ0FvSyxFQUFBM0UsRUFBQXpGLFNBRWlCaUssR0FBQSxFQUFBeEUsRUFBQTZFLFdBQUFyRSxPQUlqQixPQUFBZ0UsRUFVQUcsQ0FBQTNFIiwiZmlsZSI6IndvcmtlcnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL2NsaWVudFNvdXJjZS9qcy9saW5lT2ZTaWdodC53b3JrZXIuanNcIik7XG4iLCJjb25zdCBVdGlsaXRpZXMgPSByZXF1aXJlKCcuLi8uLi9zaGFyZWQvVXRpbGl0aWVzLmpzJyk7XHJcbmNvbnN0IEhpdGJveCA9IHJlcXVpcmUoJy4uLy4uL3NoYXJlZC9IaXRib3guanMnKTtcclxuXHJcbmNvbnNvbGUubG9nKFwiV29ya2VyIGNyZWF0ZWRcIik7XHJcblxyXG5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCl7XHJcblx0bGV0IGRhdGEgPSBldmVudC5kYXRhO1xyXG5cdC8vIGNvbnNvbGUubG9nKFwibWVzc2FnZSByZWNlaXZlZCBpbiB3b3JrZXI6XCIsIGV2ZW50LmRhdGEpO1xyXG5cdC8vIGxldCB0ZXN0UmV0dXJuID0gZXZlbnQuZGF0YSAqIDI7XHJcblx0Ly8gcG9zdE1lc3NhZ2UodGVzdFJldHVybik7XHJcblx0bGV0IHBvaW50c1RvU2VuZCA9IGdldFBvaW50cyh7XHJcblx0XHRvYmplY3RzSW5SYW5nZTogZGF0YS5vYmplY3RzSW5SYW5nZSxcclxuXHRcdG9yaWdpbjogICAgICAgICBkYXRhLm9yaWdpbixcclxuXHRcdHJlbmRlckRpc3RhbmNlOiBkYXRhLnJlbmRlckRpc3RhbmNlLFxyXG5cdFx0Y2FtZXJhOiAgICAgICAgIGRhdGEuY2FtZXJhXHJcblx0fSk7XHJcblx0Ly8gc2V0VGltZW91dCgoKT0+e1xyXG5cdFx0cG9zdE1lc3NhZ2Uoe3BvaW50czogcG9pbnRzVG9TZW5kLCBvZmZzZXQ6IGRhdGEuY2FtZXJhfSk7XHJcblx0Ly8gfSwxMDAwKTtcclxuXHRcclxufS8vb24gbWVzc2FnZVxyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0UG9pbnRzKHtcclxuXHRvYmplY3RzSW5SYW5nZT17fSxcclxuXHRvcmlnaW49bnVsbCxcclxuXHRyZW5kZXJEaXN0YW5jZT01MDAsXHJcblx0Y2FtZXJhPW51bGxcclxufSl7XHJcblx0bGV0IGxpc3RPZlBvaW50cyA9IFtdO1xyXG5cdGZvcih2YXIgaWQgaW4gb2JqZWN0c0luUmFuZ2Upe1xyXG5cdFx0bGV0IG9iamVjdCA9IG9iamVjdHNJblJhbmdlW2lkXTtcclxuXHRcdGxldCBwb2ludHMgPSBIaXRib3guZ2V0VmlzdWFsUG9pbnRzKHtcclxuXHRcdFx0b2JqOiAgICAgICAgIG9iamVjdC5oaXRib3gsXHJcblx0XHRcdHZpZXdQb2ludDogICBvcmlnaW4sXHJcblx0XHRcdGdldFBvaW50c0FmdGVyRWRnZTogdHJ1ZVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0cG9pbnRzLmZvckVhY2goZnVuY3Rpb24ocG9pbnQpe1xyXG5cclxuXHRcdFx0bGV0IHBvaW50VG9DaGVjayA9IHBvaW50O1xyXG5cdFx0XHRpZihwb2ludC5leHRlbmQpe1xyXG5cdFx0XHRcdHBvaW50VG9DaGVjayA9IFV0aWxpdGllcy5leHRlbmRFbmRQb2ludCh7XHJcblx0XHRcdFx0XHRzdGFydFBvaW50OiBvcmlnaW4sIFxyXG5cdFx0XHRcdFx0ZW5kUG9pbnQ6IHBvaW50LCBcclxuXHRcdFx0XHRcdGxlbmd0aDogcmVuZGVyRGlzdGFuY2VcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0bGV0IGNvbGxpc2lvbiA9IGdldENvbGxpc2lvbih7XHJcblx0XHRcdFx0b2JqZWN0czogb2JqZWN0c0luUmFuZ2UsIFxyXG5cdFx0XHRcdG9yaWdpbjogIG9yaWdpbiwgXHJcblx0XHRcdFx0cG9pbnQ6ICAgcG9pbnRUb0NoZWNrXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0bGV0IHZpZXdQb2ludCA9IGdldFZpZXdQb2ludCh7XHJcblx0XHRcdFx0cG9pbnQ6IGNvbGxpc2lvbi5wb2ludCwgXHJcblx0XHRcdFx0ZWRnZTogICFjb2xsaXNpb24uY29sbGlzaW9uLFxyXG5cdFx0XHRcdGNvbG9yOiAoY29sbGlzaW9uLmNvbGxpc2lvbiA/IFwiZ3JlZW5cIiA6IFwieWVsbG93XCIpLFxyXG5cdFx0XHRcdG5hbWU6IFwiUFwiLFxyXG5cdFx0XHRcdG9yaWdpbjogb3JpZ2luLFxyXG5cdFx0XHRcdGNhbWVyYTogY2FtZXJhXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRsaXN0T2ZQb2ludHMucHVzaCh2aWV3UG9pbnQpO1xyXG5cclxuXHRcdH0pOy8vZm9yIGVhY2ggcG9pbnQgaW4gb2JqZWN0XHJcblx0fS8vZm9yIG9iamVjdHMgaW4gcmFuZ2VcclxuXHRyZXR1cm4gbGlzdE9mUG9pbnRzO1xyXG59Ly9nZXQgUG9pbnRzXHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldENvbGxpc2lvbih7b2JqZWN0cywgb3JpZ2luLCBwb2ludCwgZGlzdGFuY2U9SW5maW5pdHl9KXtcclxuXHRcdC8vY2hlY2sgYWxsIG9iamVjdHMgaW4gcmFuZ2UgZm9yIGNvbGxpc2lvblxyXG5cdFx0bGV0IGNsb3Nlc3RDb2xsaXNpb24gPSBmYWxzZTtcclxuXHRcdGxldCBjbG9zZXN0U2VnbWVudCA9IG51bGw7XHJcblx0XHRsZXQgY2xvc2VzdERpc3QgPSBJbmZpbml0eTtcclxuXHRcdC8vZm9yIG9iamVjdCBnbG93XHJcblx0XHRsZXQgY2xvc2VzdE9iaiA9IG51bGw7XHJcblx0XHRmb3IodmFyIGlkIGluIG9iamVjdHMpe1xyXG5cdFx0XHRsZXQgb2JqZWN0ID0gb2JqZWN0c1tpZF07XHJcblx0XHRcdGxldCBjb2xsaXNpb24gPSBnZXRJbnRlcnNlY3Rpb24ob2JqZWN0LmhpdGJveCwge3gxOiBvcmlnaW4ueCwgIHkxOiBvcmlnaW4ueSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgIHgyOiBwb2ludC54LCAgIHkyOiBwb2ludC55fSk7XHJcblx0XHRcdGlmKGNvbGxpc2lvbil7XHJcblx0XHRcdFx0bGV0IGRpc3QgPSBVdGlsaXRpZXMuZGlzdChjb2xsaXNpb24ucG9pbnQsIG9yaWdpbik7XHJcblx0XHRcdFx0aWYoY2xvc2VzdERpc3QgPiBkaXN0KXtcclxuXHRcdFx0XHRcdGNsb3Nlc3RPYmogPSBvYmplY3Q7XHJcblx0XHRcdFx0XHRjbG9zZXN0RGlzdCA9IGRpc3Q7XHJcblx0XHRcdFx0XHRjbG9zZXN0Q29sbGlzaW9uID0gY29sbGlzaW9uLnBvaW50O1xyXG5cdFx0XHRcdFx0Y2xvc2VzdFNlZ21lbnQgPSBjb2xsaXNpb24ubGluZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0vL2ZvciBvYmplY3RzIGluIHJhbmdlXHJcblxyXG5cdFx0aWYoY2xvc2VzdENvbGxpc2lvbiAmJiBjbG9zZXN0RGlzdCA8IGRpc3RhbmNlKXtcclxuXHRcdFx0Ly9tYWtlIHBvaW50cyBhdCB0aGUgY29ybmVycyBvZiB0aGUgYm94XHJcblx0XHRcdGxldCBwb2ludDEgPSB7eDogY2xvc2VzdFNlZ21lbnQueDEsIHk6IGNsb3Nlc3RTZWdtZW50LnkxfTtcclxuXHRcdFx0bGV0IHBvaW50MiA9IHt4OiBjbG9zZXN0U2VnbWVudC54MiwgeTogY2xvc2VzdFNlZ21lbnQueTJ9O1xyXG5cdFx0XHRsZXQgYW5nbGVDb2xsaXNpb25Ub1BvaW50MSA9IGNhbGN1bGF0ZUFuZ2xlKHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBvaW50MTogcG9pbnQxLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2VudGVyUG9pbnQ6b3JpZ2lufSk7XHJcblx0XHRcdGxldCBhbmdsZUNvbGxpc2lvblRvUG9pbnQyID0gY2FsY3VsYXRlQW5nbGUoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cG9pbnQxOiBwb2ludDIsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgIGNlbnRlclBvaW50Om9yaWdpbn0pO1xyXG5cdFx0XHRsZXQgYW5nbGVDb2xsaXNpb24gPSBjYWxjdWxhdGVBbmdsZSh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwb2ludDE6IGNsb3Nlc3RDb2xsaXNpb24sXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgIGNlbnRlclBvaW50Om9yaWdpbn0pO1xyXG5cclxuXHRcdFx0bGV0IGN3UG9pbnQ7XHJcblx0XHRcdGxldCBjY3dQb2ludDtcclxuXHRcdFx0aWYoYW5nbGVDb2xsaXNpb25Ub1BvaW50MSA+IGFuZ2xlQ29sbGlzaW9uVG9Qb2ludDIpe1xyXG5cdFx0XHRcdGN3UG9pbnQgID0gcG9pbnQxO1xyXG5cdFx0XHRcdGN3UG9pbnQuYW5nbGUgPSBhbmdsZUNvbGxpc2lvblRvUG9pbnQxO1xyXG5cdFx0XHRcdGNjd1BvaW50ID0gcG9pbnQyO1xyXG5cdFx0XHRcdGNjd1BvaW50LmFuZ2xlID0gYW5nbGVDb2xsaXNpb25Ub1BvaW50MjtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjd1BvaW50ICA9IHBvaW50MjtcclxuXHRcdFx0XHRjd1BvaW50LmFuZ2xlID0gYW5nbGVDb2xsaXNpb25Ub1BvaW50MjtcclxuXHRcdFx0XHRjY3dQb2ludCA9IHBvaW50MTtcclxuXHRcdFx0XHRjY3dQb2ludC5hbmdsZSA9IGFuZ2xlQ29sbGlzaW9uVG9Qb2ludDE7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNsb3Nlc3RDb2xsaXNpb24uYW5nbGUgPSBhbmdsZUNvbGxpc2lvbjtcclxuXHJcblx0XHRcdC8vbWFrZSBzdXJlIGJveCBlZGdlcyBhcmUgbm90IG91dCBvZiByYW5nZVxyXG5cdFx0XHQvLyBpZihjd1BvaW50LmFuZ2xlICA+PSBlbmRQb2ludEFuZ2xlIHx8IGN3UG9pbnQuYW5nbGUgIDw9IHN0YXJ0UG9pbnRBbmdsZSl7XHJcblx0XHRcdC8vIFx0Y3dQb2ludCA9IG51bGw7XHJcblx0XHRcdC8vIH1cclxuXHRcdFx0Ly8gaWYoY2N3UG9pbnQuYW5nbGUgPj0gZW5kUG9pbnRBbmdsZSB8fCBjY3dQb2ludC5hbmdsZSA8PSBzdGFydFBvaW50QW5nbGUpe1xyXG5cdFx0XHQvLyBcdGNjd1BvaW50ID0gbnVsbDtcclxuXHRcdFx0Ly8gfVxyXG5cclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRjb2xsaXNpb246IHRydWUsXHJcblx0XHRcdFx0cG9pbnQ6IGNsb3Nlc3RDb2xsaXNpb24sXHJcblx0XHRcdFx0ZGlzdDogY2xvc2VzdERpc3QsXHJcblx0XHRcdFx0Y3dQb2ludDogY3dQb2ludCxcclxuXHRcdFx0XHRjY3dQb2ludDogY2N3UG9pbnQsXHJcblx0XHRcdFx0b2JqZWN0OiBjbG9zZXN0T2JqXHJcblx0XHRcdH1cclxuXHRcdH0vL2Nsb3Nlc3QgQ29sbGlzaW9uXHJcblx0XHRlbHNlIHtcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRjb2xsaXNpb246IGZhbHNlLFxyXG5cdFx0XHRcdHBvaW50OiBwb2ludFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fS8vZ2V0Q29sbGlzaW9uXHJcblxyXG5cdGZ1bmN0aW9uIGNhbGN1bGF0ZUFuZ2xlKHtwb2ludDEsIHBvaW50Mj1udWxsLCBjZW50ZXJQb2ludH0pe1xyXG5cdFx0aWYocG9pbnQyPT1udWxsKSBwb2ludDIgPSB7eDogY2VudGVyUG9pbnQueCsxMCwgeTpjZW50ZXJQb2ludC55fTtcclxuXHRcdGxldCBwQW5nbGUgPSBVdGlsaXRpZXMuY2FsY3VsYXRlQW5nbGUoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBvaW50MTogcG9pbnQxLCBcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRwb2ludDI6IHBvaW50MixcclxuXHRcdFx0XHRcdFx0XHRcdFx0ICAgIGNlbnRlclBvaW50OmNlbnRlclBvaW50fSk7XHJcblx0XHQvLyBpZihwQW5nbGUgPCAwKSBwQW5nbGUgPSBwQW5nbGUgKyBNYXRoLlBJKjI7XHJcblx0XHRpZihwQW5nbGUgPCAwKSBwQW5nbGUgPSBNYXRoLmFicyhwQW5nbGUpO1xyXG5cdFx0Ly8gaWYocEFuZ2xlID4gTWF0aC5QSSkgcEFuZ2xlID0gTWF0aC5QSSAtIHBBbmdsZTtcclxuXHRcdC8vIGlmKHBBbmdsZSA+IHdpZHRoKSBwQW5nbGUgPSBNYXRoLlBJKjIgLSBwQW5nbGU7XHJcblx0XHQvL0NvdWxkIGNhdXNlIGFuIGlzc3VlIHdoZW4gY29uZSBpcyB3aWRlciB0aGFuIFBJIGFrYSAxODAsIG1heWJlP1xyXG5cdFx0cmV0dXJuIHBBbmdsZTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGdldEludGVyc2VjdGlvbihjb3JuZXJzLCBsaW5lKXtcclxuXHRcdC8vIGNvbnNvbGUubG9nKFwiY29ybmVyczpcIixjb3JuZXJzKTtcclxuXHRcdGxldCBib3hMaW5lVG9wICAgID0ge3gxOmNvcm5lcnMudG9wTGVmdC54LCAgICAgeTE6Y29ybmVycy50b3BMZWZ0LnksIFxyXG5cdFx0XHRcdFx0XHQgICAgIHgyOmNvcm5lcnMudG9wUmlnaHQueCwgICAgeTI6Y29ybmVycy50b3BSaWdodC55fTtcclxuXHRcdGxldCBib3hMaW5lUmlnaHQgID0ge3gxOmNvcm5lcnMudG9wUmlnaHQueCwgICAgeTE6Y29ybmVycy50b3BSaWdodC55LCBcclxuXHRcdFx0XHRcdFx0ICAgICB4Mjpjb3JuZXJzLmJvdHRvbVJpZ2h0LngsIHkyOmNvcm5lcnMuYm90dG9tUmlnaHQueX07XHJcblx0XHRsZXQgYm94TGluZUJvdHRvbSA9IHt4MTpjb3JuZXJzLmJvdHRvbVJpZ2h0LngsIHkxOmNvcm5lcnMuYm90dG9tUmlnaHQueSwgXHJcblx0XHRcdFx0XHRcdCAgICAgeDI6Y29ybmVycy5ib3R0b21MZWZ0LngsICB5Mjpjb3JuZXJzLmJvdHRvbUxlZnQueX07XHJcblx0XHRsZXQgYm94TGluZUxlZnQgICA9IHt4MTpjb3JuZXJzLmJvdHRvbUxlZnQueCwgIHkxOmNvcm5lcnMuYm90dG9tTGVmdC55LCBcclxuXHRcdFx0XHRcdFx0ICAgICB4Mjpjb3JuZXJzLnRvcExlZnQueCwgICAgIHkyOmNvcm5lcnMudG9wTGVmdC55fTtcclxuXHRcdGxldCBpbnRlcnNlY3Rpb24gPSBmYWxzZTtcclxuXHRcdGxldCBpbnRlcnNlY3RpbmdTZWdtZW50ID0gbnVsbDtcclxuXHRcdGxldCBjbG9zZXN0RGlzdCA9IEluZmluaXR5O1xyXG5cdFx0bGV0IHRvcCA9IEhpdGJveC5jb2xsaWRlTGluZUxpbmUobGluZSwgYm94TGluZVRvcCk7XHJcblx0XHRpZih0b3Ape1xyXG5cdFx0XHRpbnRlcnNlY3Rpb24gPSB0b3A7XHJcblx0XHRcdGludGVyc2VjdGluZ1NlZ21lbnQgPSBib3hMaW5lVG9wO1xyXG5cdFx0XHRjbG9zZXN0RGlzdCA9IFV0aWxpdGllcy5kaXN0KHRvcCwge3g6bGluZS54MSwgeTpsaW5lLnkxfSk7XHJcblx0XHR9XHJcblx0XHRsZXQgcmlnaHQgPSBIaXRib3guY29sbGlkZUxpbmVMaW5lKGxpbmUsIGJveExpbmVSaWdodCk7XHJcblx0XHRpZihyaWdodCl7XHJcblx0XHRcdGxldCBkaXN0ID0gVXRpbGl0aWVzLmRpc3QocmlnaHQsIHt4OmxpbmUueDEsIHk6bGluZS55MX0pO1xyXG5cdFx0XHRpZihkaXN0IDwgY2xvc2VzdERpc3Qpe1xyXG5cdFx0XHRcdGludGVyc2VjdGlvbiA9IHJpZ2h0O1xyXG5cdFx0XHRcdGludGVyc2VjdGluZ1NlZ21lbnQgPSBib3hMaW5lUmlnaHQ7XHJcblx0XHRcdFx0Y2xvc2VzdERpc3QgPSBkaXN0O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRsZXQgYm90dG9tID0gSGl0Ym94LmNvbGxpZGVMaW5lTGluZShsaW5lLCBib3hMaW5lQm90dG9tKTtcclxuXHRcdGlmKGJvdHRvbSl7XHJcblx0XHRcdGxldCBkaXN0ID0gVXRpbGl0aWVzLmRpc3QoYm90dG9tLCB7eDpsaW5lLngxLCB5OmxpbmUueTF9KTtcclxuXHRcdFx0aWYoZGlzdCA8IGNsb3Nlc3REaXN0KXtcclxuXHRcdFx0XHRpbnRlcnNlY3Rpb24gPSBib3R0b207XHJcblx0XHRcdFx0aW50ZXJzZWN0aW5nU2VnbWVudCA9IGJveExpbmVCb3R0b207XHJcblx0XHRcdFx0Y2xvc2VzdERpc3QgPSBkaXN0O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRsZXQgbGVmdCA9IEhpdGJveC5jb2xsaWRlTGluZUxpbmUobGluZSwgYm94TGluZUxlZnQpO1xyXG5cdFx0aWYobGVmdCl7XHJcblx0XHRcdGxldCBkaXN0ID0gVXRpbGl0aWVzLmRpc3QobGVmdCwge3g6bGluZS54MSwgeTpsaW5lLnkxfSk7XHJcblx0XHRcdGlmKGRpc3QgPCBjbG9zZXN0RGlzdCl7XHJcblx0XHRcdFx0aW50ZXJzZWN0aW9uID0gbGVmdDtcclxuXHRcdFx0XHRpbnRlcnNlY3RpbmdTZWdtZW50ID0gYm94TGluZUxlZnQ7XHJcblx0XHRcdFx0Y2xvc2VzdERpc3QgPSBkaXN0O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4ge3BvaW50OiBpbnRlcnNlY3Rpb24sIGxpbmU6IGludGVyc2VjdGluZ1NlZ21lbnR9O1xyXG5cdH0vL2dldCBpbnRlcnNlY3Rpb25cclxuXHJcblx0ZnVuY3Rpb24gZ2V0Vmlld1BvaW50KHtwb2ludCwgZWRnZT1mYWxzZSwgY29sb3I9XCJ5ZWxsb3dcIiwgbmFtZT1cIk5vIE5hbWVcIiwgb3JpZ2luLCBjYW1lcmF9KXtcclxuXHRcdGxldCBwQW5nbGUgPSBjYWxjdWxhdGVBbmdsZSh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cG9pbnQxOiBwb2ludCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0ICAgIGNlbnRlclBvaW50Om9yaWdpbn0pO1xyXG5cdFx0Ly90cmFuc2xhdGUgdG8gcG9pbnQgZm9yIGRpc3BsYXlcclxuXHRcdGxldCB2aWV3UG9pbnQgPSB0cmFuc2xhdGVDYW1lcmEoe2NhbWVyYTogY2FtZXJhLCBwb2ludDogcG9pbnR9KTtcclxuXHRcdC8vIHZpZXdQb2ludCA9IHt4OiBwb2ludC54LCB5OiBwb2ludC55fTtcclxuXHRcdHZpZXdQb2ludC5lZGdlID0gZWRnZTtcclxuXHRcdHZpZXdQb2ludC5jb2xvciA9IGNvbG9yO1xyXG5cdFx0dmlld1BvaW50LmFuZ2xlID0gcEFuZ2xlO1xyXG5cdFx0dmlld1BvaW50Lm5hbWUgPSBuYW1lO1xyXG5cdFx0dmlld1BvaW50LmNvdW50ID0gdGhpcy5vcmRlclBvaW50c0NyZWF0ZWQ7XHJcblx0XHR0aGlzLm9yZGVyUG9pbnRzQ3JlYXRlZCsrO1xyXG5cdFx0cmV0dXJuIHZpZXdQb2ludDtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHRyYW5zbGF0ZUNhbWVyYSh7Y2FtZXJhLCBwb2ludH0pe1xyXG5cdFx0bGV0IG9yZ2lnaW5YID0gY2FtZXJhLnggLSAoY2FtZXJhLndpZHRoLzIpO1xyXG5cdFx0bGV0IG9yZ2lnaW5ZID0gY2FtZXJhLnkgLSAoY2FtZXJhLmhlaWdodC8yKTtcclxuXHRcdGxldCB0eCA9IE1hdGgucm91bmQocG9pbnQueCAtIG9yZ2lnaW5YKTtcclxuXHRcdGxldCB0eSA9IE1hdGgucm91bmQocG9pbnQueSAtIG9yZ2lnaW5ZKTtcclxuXHRcdHJldHVybiB7eDp0eCwgeTp0eX07XHJcblx0fSIsInZhciBVdGlsaXRpZXMgPSByZXF1aXJlKCcuLi9zaGFyZWQvVXRpbGl0aWVzLmpzJyk7XHJcblxyXG5leHBvcnRzLmNyZWF0ZSA9ICh7XHJcblx0aWQ9MCxcclxuXHR4PTAsXHJcblx0eT0wLFxyXG5cdHdpZHRoPTUwLFxyXG5cdGhlaWdodD01MCxcclxuXHRhbmdsZT0wXHJcbn0pPT57XHJcblx0bGV0IHRvcCAgICA9IHkgLSAoaGVpZ2h0LzIpO1xyXG5cdGxldCBib3R0b20gPSB5ICsgKGhlaWdodC8yKTtcclxuXHRsZXQgbGVmdCAgID0geCAtICh3aWR0aC8yKTtcclxuXHRsZXQgcmlnaHQgID0geCArICh3aWR0aC8yKVxyXG5cdHJldHVybiB7XHJcblx0XHRpZDogaWQsXHJcblx0XHR4OiAgeCxcclxuXHRcdHk6ICB5LFxyXG5cdFx0d2lkdGg6IHdpZHRoLFxyXG5cdFx0aGVpZ2h0OmhlaWdodCxcclxuXHRcdGFuZ2xlOiBhbmdsZSxcclxuXHRcdHRvcDogICAgdG9wLFxyXG5cdFx0Ym90dG9tOiBib3R0b20sXHJcblx0XHRsZWZ0OiAgIGxlZnQsXHJcblx0XHRyaWdodDogIHJpZ2h0LFxyXG5cdFx0dG9wTGVmdDogICAgIHt4OiBsZWZ0LCB5OiB0b3B9LFxyXG5cdFx0dG9wUmlnaHQ6ICAgIHt4OiByaWdodCwgeTogdG9wfSxcclxuXHRcdGJvdHRvbUxlZnQ6ICB7eDogbGVmdCwgeTogYm90dG9tfSxcclxuXHRcdGJvdHRvbVJpZ2h0OiB7eDogcmlnaHQsIHk6IGJvdHRvbX0sXHJcblx0XHRwb2ludHM6ICAgICAgW3t4OiBsZWZ0LCB5OiB0b3B9LCB7eDogcmlnaHQsIHk6IHRvcH0sIHt4OiBsZWZ0LCB5OiBib3R0b219LCB7eDogcmlnaHQsIHk6IGJvdHRvbX1dXHJcblx0fVxyXG59IC8vY3JlYXRlXHJcblxyXG5mdW5jdGlvbiBtb3ZlVG8ob2JqLCB4LCB5KXtcclxuXHRvYmouaGl0Ym94LnggPSB4O1xyXG5cdG9iai5oaXRib3gueSA9IHk7XHJcblx0dXBkYXRlKG9iaik7XHJcbn1cclxuZXhwb3J0cy5tb3ZlVG8gPSBtb3ZlVG87XHJcblxyXG5mdW5jdGlvbiB1cGRhdGUob2JqKXtcclxuXHRsZXQgaGl0Ym94ID0gb2JqLmhpdGJveDtcclxuXHRsZXQgdG9wICAgID0gaGl0Ym94LnkgLSAoaGl0Ym94LmhlaWdodC8yKTtcclxuXHRsZXQgYm90dG9tID0gaGl0Ym94LnkgKyAoaGl0Ym94LmhlaWdodC8yKTtcclxuXHRsZXQgbGVmdCAgID0gaGl0Ym94LnggLSAoaGl0Ym94LndpZHRoLzIpO1xyXG5cdGxldCByaWdodCAgPSBoaXRib3gueCArIChoaXRib3gud2lkdGgvMik7XHJcblxyXG5cdGhpdGJveC50b3AgICAgPSB0b3A7XHJcblx0aGl0Ym94LmJvdHRvbSA9IGJvdHRvbTtcclxuXHRoaXRib3gubGVmdCAgID0gbGVmdDtcclxuXHRoaXRib3gucmlnaHQgID0gcmlnaHQ7XHJcblx0aGl0Ym94LnRvcExlZnQgICAgID0ge3g6IGxlZnQsIHk6IHRvcH07XHJcblx0aGl0Ym94LnRvcFJpZ2h0ICAgID0ge3g6IHJpZ2h0LCB5OiB0b3B9O1xyXG5cdGhpdGJveC5ib3R0b21MZWZ0ICA9IHt4OiBsZWZ0LCB5OiBib3R0b219O1xyXG5cdGhpdGJveC5ib3R0b21SaWdodCA9IHt4OiByaWdodCwgeTogYm90dG9tfTtcclxuXHQvLyBoaXRib3gucG9pbnRzICAgICAgPSBbaGl0Ym94LnRvcExlZnQsIGhpdGJveC50b3BSaWdodCwgaGl0Ym94LmJvdHRvbUxlZnQsIGhpdGJveC5ib3R0b21SaWdodF07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFZpc3VhbFBvaW50cyh7b2JqLCB2aWV3UG9pbnQsIGdldFBvaW50c0FmdGVyRWRnZT1mYWxzZX0pe1xyXG5cclxuXHRsZXQgcmV0dXJuUG9pbnRzID0gW107XHJcblx0aWYodmlld1BvaW50LnkgPCBvYmoudG9wKXsgICAgICAgICAgICAgIC8vTlcsIE4sIE5FXHJcblx0XHRpZih2aWV3UG9pbnQueCA8IG9iai5sZWZ0KXsgICAgICAgICAvL05XXHJcblx0XHRcdHJldHVyblBvaW50cyA9IFtvYmoudG9wTGVmdCwgb2JqLnRvcFJpZ2h0LCBvYmouYm90dG9tTGVmdF07XHJcblx0XHRcdGxldCBwUm90YXRlZENXID0gVXRpbGl0aWVzLnJvdGF0ZVBvaW50KHtcclxuXHRcdFx0XHRjZW50ZXI6IHZpZXdQb2ludCxcclxuXHRcdFx0XHRwb2ludDogb2JqLmJvdHRvbUxlZnQsXHJcblx0XHRcdFx0YW5nbGU6IDAuMDF9KTtcclxuXHRcdFx0cFJvdGF0ZWRDVy5leHRlbmQgPSB0cnVlO1xyXG5cdFx0XHRyZXR1cm5Qb2ludHMucHVzaChwUm90YXRlZENXKTtcclxuXHRcdFx0bGV0IHBSb3RhdGVkQ0NXID0gVXRpbGl0aWVzLnJvdGF0ZVBvaW50KHtcclxuXHRcdFx0XHRjZW50ZXI6IHZpZXdQb2ludCxcclxuXHRcdFx0XHRwb2ludDogb2JqLnRvcFJpZ2h0LFxyXG5cdFx0XHRcdGFuZ2xlOiAtMC4wMX0pO1xyXG5cdFx0XHRwUm90YXRlZENDVy5leHRlbmQgPSB0cnVlO1xyXG5cdFx0XHRyZXR1cm5Qb2ludHMucHVzaChwUm90YXRlZENDVyk7XHJcblx0XHR9IGVsc2UgaWYodmlld1BvaW50LnggPiBvYmoucmlnaHQpeyAvL05FXHJcblx0XHRcdHJldHVyblBvaW50cyA9IFtvYmoudG9wTGVmdCwgb2JqLnRvcFJpZ2h0LCBvYmouYm90dG9tUmlnaHRdO1xyXG5cdFx0XHRsZXQgcFJvdGF0ZWRDVyA9IFV0aWxpdGllcy5yb3RhdGVQb2ludCh7XHJcblx0XHRcdFx0Y2VudGVyOiB2aWV3UG9pbnQsXHJcblx0XHRcdFx0cG9pbnQ6IG9iai50b3BMZWZ0LFxyXG5cdFx0XHRcdGFuZ2xlOiAwLjAxfSk7XHJcblx0XHRcdHBSb3RhdGVkQ1cuZXh0ZW5kID0gdHJ1ZTtcclxuXHRcdFx0cmV0dXJuUG9pbnRzLnB1c2gocFJvdGF0ZWRDVyk7XHJcblx0XHRcdGxldCBwUm90YXRlZENDVyA9IFV0aWxpdGllcy5yb3RhdGVQb2ludCh7XHJcblx0XHRcdFx0Y2VudGVyOiB2aWV3UG9pbnQsXHJcblx0XHRcdFx0cG9pbnQ6IG9iai5ib3R0b21SaWdodCxcclxuXHRcdFx0XHRhbmdsZTogLTAuMDF9KTtcclxuXHRcdFx0cFJvdGF0ZWRDQ1cuZXh0ZW5kID0gdHJ1ZTtcclxuXHRcdFx0cmV0dXJuUG9pbnRzLnB1c2gocFJvdGF0ZWRDQ1cpO1xyXG5cdFx0fSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9OXHJcblx0XHRcdHJldHVyblBvaW50cyA9IFtvYmoudG9wTGVmdCwgb2JqLnRvcFJpZ2h0XTtcclxuXHRcdFx0bGV0IHBSb3RhdGVkQ1cgPSBVdGlsaXRpZXMucm90YXRlUG9pbnQoe1xyXG5cdFx0XHRcdGNlbnRlcjogdmlld1BvaW50LFxyXG5cdFx0XHRcdHBvaW50OiBvYmoudG9wTGVmdCxcclxuXHRcdFx0XHRhbmdsZTogMC4wMX0pO1xyXG5cdFx0XHRwUm90YXRlZENXLmV4dGVuZCA9IHRydWU7XHJcblx0XHRcdHJldHVyblBvaW50cy5wdXNoKHBSb3RhdGVkQ1cpO1xyXG5cdFx0XHRsZXQgcFJvdGF0ZWRDQ1cgPSBVdGlsaXRpZXMucm90YXRlUG9pbnQoe1xyXG5cdFx0XHRcdGNlbnRlcjogdmlld1BvaW50LFxyXG5cdFx0XHRcdHBvaW50OiBvYmoudG9wUmlnaHQsXHJcblx0XHRcdFx0YW5nbGU6IC0wLjAxfSk7XHJcblx0XHRcdHBSb3RhdGVkQ0NXLmV4dGVuZCA9IHRydWU7XHJcblx0XHRcdHJldHVyblBvaW50cy5wdXNoKHBSb3RhdGVkQ0NXKTtcclxuXHRcdH1cclxuXHJcblx0fSBlbHNlIGlmKHZpZXdQb2ludC55ID4gb2JqLmJvdHRvbSl7ICAgIC8vU1csIFMsIFNFXHJcblx0XHRpZih2aWV3UG9pbnQueCA8IG9iai5sZWZ0KXsgICAgICAgICAvL1NXXHJcblx0XHRcdHJldHVyblBvaW50cyA9IFtvYmoudG9wTGVmdCwgb2JqLmJvdHRvbUxlZnQsIG9iai5ib3R0b21SaWdodF07XHJcblx0XHRcdGxldCBwUm90YXRlZENXID0gVXRpbGl0aWVzLnJvdGF0ZVBvaW50KHtcclxuXHRcdFx0XHRjZW50ZXI6IHZpZXdQb2ludCxcclxuXHRcdFx0XHRwb2ludDogb2JqLmJvdHRvbVJpZ2h0LFxyXG5cdFx0XHRcdGFuZ2xlOiAwLjAxfSk7XHJcblx0XHRcdHBSb3RhdGVkQ1cuZXh0ZW5kID0gdHJ1ZTtcclxuXHRcdFx0cmV0dXJuUG9pbnRzLnB1c2gocFJvdGF0ZWRDVyk7XHJcblx0XHRcdGxldCBwUm90YXRlZENDVyA9IFV0aWxpdGllcy5yb3RhdGVQb2ludCh7XHJcblx0XHRcdFx0Y2VudGVyOiB2aWV3UG9pbnQsXHJcblx0XHRcdFx0cG9pbnQ6IG9iai50b3BMZWZ0LFxyXG5cdFx0XHRcdGFuZ2xlOiAtMC4wMX0pO1xyXG5cdFx0XHRwUm90YXRlZENDVy5leHRlbmQgPSB0cnVlO1xyXG5cdFx0XHRyZXR1cm5Qb2ludHMucHVzaChwUm90YXRlZENDVyk7XHJcblx0XHR9IGVsc2UgaWYodmlld1BvaW50LnggPiBvYmoucmlnaHQpeyAvL1NFXHJcblx0XHRcdHJldHVyblBvaW50cyA9IFtvYmoudG9wUmlnaHQsIG9iai5ib3R0b21MZWZ0LCBvYmouYm90dG9tUmlnaHRdO1xyXG5cdFx0XHRsZXQgcFJvdGF0ZWRDVyA9IFV0aWxpdGllcy5yb3RhdGVQb2ludCh7XHJcblx0XHRcdFx0Y2VudGVyOiB2aWV3UG9pbnQsXHJcblx0XHRcdFx0cG9pbnQ6IG9iai50b3BSaWdodCxcclxuXHRcdFx0XHRhbmdsZTogMC4wMX0pO1xyXG5cdFx0XHRwUm90YXRlZENXLmV4dGVuZCA9IHRydWU7XHJcblx0XHRcdHJldHVyblBvaW50cy5wdXNoKHBSb3RhdGVkQ1cpO1xyXG5cdFx0XHRsZXQgcFJvdGF0ZWRDQ1cgPSBVdGlsaXRpZXMucm90YXRlUG9pbnQoe1xyXG5cdFx0XHRcdGNlbnRlcjogdmlld1BvaW50LFxyXG5cdFx0XHRcdHBvaW50OiBvYmouYm90dG9tTGVmdCxcclxuXHRcdFx0XHRhbmdsZTogLTAuMDF9KTtcclxuXHRcdFx0cFJvdGF0ZWRDQ1cuZXh0ZW5kID0gdHJ1ZTtcclxuXHRcdFx0cmV0dXJuUG9pbnRzLnB1c2gocFJvdGF0ZWRDQ1cpO1xyXG5cdFx0fSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9TXHJcblx0XHRcdHJldHVyblBvaW50cyA9IFtvYmouYm90dG9tTGVmdCwgb2JqLmJvdHRvbVJpZ2h0XTtcclxuXHRcdFx0bGV0IHBSb3RhdGVkQ1cgPSBVdGlsaXRpZXMucm90YXRlUG9pbnQoe1xyXG5cdFx0XHRcdGNlbnRlcjogdmlld1BvaW50LFxyXG5cdFx0XHRcdHBvaW50OiBvYmouYm90dG9tUmlnaHQsXHJcblx0XHRcdFx0YW5nbGU6IDAuMDF9KTtcclxuXHRcdFx0cFJvdGF0ZWRDVy5leHRlbmQgPSB0cnVlO1xyXG5cdFx0XHRyZXR1cm5Qb2ludHMucHVzaChwUm90YXRlZENXKTtcclxuXHRcdFx0bGV0IHBSb3RhdGVkQ0NXID0gVXRpbGl0aWVzLnJvdGF0ZVBvaW50KHtcclxuXHRcdFx0XHRjZW50ZXI6IHZpZXdQb2ludCxcclxuXHRcdFx0XHRwb2ludDogb2JqLmJvdHRvbUxlZnQsXHJcblx0XHRcdFx0YW5nbGU6IC0wLjAxfSk7XHJcblx0XHRcdHBSb3RhdGVkQ0NXLmV4dGVuZCA9IHRydWU7XHJcblx0XHRcdHJldHVyblBvaW50cy5wdXNoKHBSb3RhdGVkQ0NXKTtcclxuXHRcdH1cclxuXHJcblx0fSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vRSBvciBXXHJcblx0XHRpZih2aWV3UG9pbnQueCA8IG9iai5sZWZ0KXsgICAgICAgICAvL1dcclxuXHRcdFx0cmV0dXJuUG9pbnRzID0gW29iai50b3BMZWZ0LCBvYmouYm90dG9tTGVmdF07XHJcblx0XHRcdGxldCBwUm90YXRlZENXID0gVXRpbGl0aWVzLnJvdGF0ZVBvaW50KHtcclxuXHRcdFx0XHRjZW50ZXI6IHZpZXdQb2ludCxcclxuXHRcdFx0XHRwb2ludDogb2JqLmJvdHRvbUxlZnQsXHJcblx0XHRcdFx0YW5nbGU6IDAuMDF9KTtcclxuXHRcdFx0cFJvdGF0ZWRDVy5leHRlbmQgPSB0cnVlO1xyXG5cdFx0XHRyZXR1cm5Qb2ludHMucHVzaChwUm90YXRlZENXKTtcclxuXHRcdFx0bGV0IHBSb3RhdGVkQ0NXID0gVXRpbGl0aWVzLnJvdGF0ZVBvaW50KHtcclxuXHRcdFx0XHRjZW50ZXI6IHZpZXdQb2ludCxcclxuXHRcdFx0XHRwb2ludDogb2JqLnRvcExlZnQsXHJcblx0XHRcdFx0YW5nbGU6IC0wLjAxfSk7XHJcblx0XHRcdHBSb3RhdGVkQ0NXLmV4dGVuZCA9IHRydWU7XHJcblx0XHRcdHJldHVyblBvaW50cy5wdXNoKHBSb3RhdGVkQ0NXKTtcclxuXHRcdH0gZWxzZSBpZih2aWV3UG9pbnQueCA+IG9iai5yaWdodCl7IC8vRVxyXG5cdFx0XHRyZXR1cm5Qb2ludHMgPSBbb2JqLnRvcFJpZ2h0LCBvYmouYm90dG9tUmlnaHRdO1xyXG5cdFx0XHRsZXQgcFJvdGF0ZWRDVyA9IFV0aWxpdGllcy5yb3RhdGVQb2ludCh7XHJcblx0XHRcdFx0Y2VudGVyOiB2aWV3UG9pbnQsXHJcblx0XHRcdFx0cG9pbnQ6IG9iai50b3BSaWdodCxcclxuXHRcdFx0XHRhbmdsZTogMC4wMX0pO1xyXG5cdFx0XHRwUm90YXRlZENXLmV4dGVuZCA9IHRydWU7XHJcblx0XHRcdHJldHVyblBvaW50cy5wdXNoKHBSb3RhdGVkQ1cpO1xyXG5cdFx0XHRsZXQgcFJvdGF0ZWRDQ1cgPSBVdGlsaXRpZXMucm90YXRlUG9pbnQoe1xyXG5cdFx0XHRcdGNlbnRlcjogdmlld1BvaW50LFxyXG5cdFx0XHRcdHBvaW50OiBvYmouYm90dG9tUmlnaHQsXHJcblx0XHRcdFx0YW5nbGU6IC0wLjAxfSk7XHJcblx0XHRcdHBSb3RhdGVkQ0NXLmV4dGVuZCA9IHRydWU7XHJcblx0XHRcdHJldHVyblBvaW50cy5wdXNoKHBSb3RhdGVkQ0NXKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwiQ2F0Y2ggaW4gZ2V0VmlzdWFsUG9pbnRzLCBwb3NzaWJseSB2aWV3UG9pbnQgaXMgaW5zaWRlIHRoZSBib3hcIik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpZihyZXR1cm5Qb2ludHMubGVuZ3RoIDwgNCB8fCByZXR1cm5Qb2ludHMubGVuZ3RoID4gNSkgY29uc29sZS5sb2coXCJXcm9uZyBhbW91bnQgb2YgcG9pbnRzOlwiLCByZXR1cm5Qb2ludHMubGVuZ3RoKTtcclxuXHJcblx0cmV0dXJuIHJldHVyblBvaW50cztcclxuXHJcbn1cclxuZXhwb3J0cy5nZXRWaXN1YWxQb2ludHMgPSBnZXRWaXN1YWxQb2ludHM7XHJcblxyXG5mdW5jdGlvbiBjb2xsaWRpbmcob2JqMSwgb2JqMikge1xyXG5cdC8vZG9lc250IHRha2UgYW5nbGUgaW50byBhY2NvdW50IHlldC5cclxuXHRsZXQgaGl0Ym94MSA9IG9iajEuaGl0Ym94O1xyXG5cdGxldCBoaXRib3gyID0gb2JqMi5oaXRib3g7XHJcblxyXG5cdGxldCByb3VnaENvbGxpZGluZyA9IGZhbHNlO1xyXG5cdC8vIGNvbnNvbGUubG9nKFwiSW4gY29sbGlkaW5nOlwiLCBoaXRib3gxLCBoaXRib3gyKTtcclxuXHRpZihoaXRib3gxLnRvcCA+IGhpdGJveDIuYm90dG9tIHx8XHJcblx0ICAgaGl0Ym94MS5ib3R0b20gPCBoaXRib3gyLnRvcCB8fFxyXG5cdCAgIGhpdGJveDEucmlnaHQgPCBoaXRib3gyLmxlZnQgfHxcclxuXHQgICBoaXRib3gxLmxlZnQgPiBoaXRib3gyLnJpZ2h0KSB7XHJcblx0XHRyb3VnaENvbGxpZGluZyA9IGZhbHNlO1xyXG5cdH0gZWxzZSByb3VnaENvbGxpZGluZyA9IHRydWU7XHJcblxyXG5cdC8vIGlmKHJvdWdoQ29sbGlkaW5nKXtcclxuXHQvLyBcdC8vVE9ETyBtYWtlIG1vcmUgZ3JhbnVsYXIgY29sbGlkaW5nIHdpdGggY29sbGlzaW9uIHBvaW50cyBhbmQgc3VjaFxyXG5cdC8vIH1cclxuXHRcclxuXHRyZXR1cm4gcm91Z2hDb2xsaWRpbmc7XHJcbn0gLy9jb2xsaWRpbmdcclxuZXhwb3J0cy5jb2xsaWRpbmcgPSBjb2xsaWRpbmc7XHJcblxyXG5mdW5jdGlvbiBjb2xsaWRlTGluZUxpbmUobGluZTEsIGxpbmUyKSB7XHJcblxyXG5cdC8vIGNhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgdG8gaW50ZXJzZWN0aW9uIHBvaW50XHJcblx0dmFyIHVBID0gKChsaW5lMi54Mi1saW5lMi54MSkqKGxpbmUxLnkxLWxpbmUyLnkxKSAtIFxyXG5cdFx0XHQgKGxpbmUyLnkyLWxpbmUyLnkxKSoobGluZTEueDEtbGluZTIueDEpKSAvIFxyXG5cdFx0XHQgKChsaW5lMi55Mi1saW5lMi55MSkqKGxpbmUxLngyLWxpbmUxLngxKSAtIFxyXG5cdFx0XHQgKGxpbmUyLngyLWxpbmUyLngxKSoobGluZTEueTItbGluZTEueTEpKTtcclxuXHR2YXIgdUIgPSAoKGxpbmUxLngyLWxpbmUxLngxKSoobGluZTEueTEtbGluZTIueTEpIC0gXHJcblx0XHRcdCAobGluZTEueTItbGluZTEueTEpKihsaW5lMS54MS1saW5lMi54MSkpIC8gXHJcblx0XHRcdCAoKGxpbmUyLnkyLWxpbmUyLnkxKSoobGluZTEueDItbGluZTEueDEpIC0gXHJcblx0XHRcdCAobGluZTIueDItbGluZTIueDEpKihsaW5lMS55Mi1saW5lMS55MSkpO1xyXG5cclxuXHQvLyBpZiB1QSBhbmQgdUIgYXJlIGJldHdlZW4gMC0xLCBsaW5lcyBhcmUgY29sbGlkaW5nXHJcblx0aWYgKHVBID49IDAgJiYgdUEgPD0gMSAmJiB1QiA+PSAwICYmIHVCIDw9IDEpIHtcclxuXHJcblx0ICB2YXIgaW50ZXJzZWN0aW9uWCA9IGxpbmUxLngxICsgKHVBICogKGxpbmUxLngyLWxpbmUxLngxKSk7XHJcblx0ICB2YXIgaW50ZXJzZWN0aW9uWSA9IGxpbmUxLnkxICsgKHVBICogKGxpbmUxLnkyLWxpbmUxLnkxKSk7XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIFwieFwiOmludGVyc2VjdGlvblgsXHJcbiAgICAgICAgXCJ5XCI6aW50ZXJzZWN0aW9uWVxyXG4gICAgICB9O1xyXG5cdH1cclxuXHRyZXR1cm4gZmFsc2U7XHJcbn1cclxuZXhwb3J0cy5jb2xsaWRlTGluZUxpbmUgPSBjb2xsaWRlTGluZUxpbmU7XHJcblxyXG5mdW5jdGlvbiBjb2xsaWRlTGluZVJlY3QobGluZSwgcmVjKSB7Ly94MSwgeTEsIHgyLCB5MiwgICByeCwgcnksIHJ3LCByaFxyXG5cclxuICAvL2NoZWNrIGlmIHRoZSBsaW5lIGhhcyBoaXQgYW55IG9mIHRoZSByZWN0YW5nbGUncyBzaWRlcy4gdXNlcyB0aGUgY29sbGlkZUxpbmVMaW5lIGZ1bmN0aW9uIGFib3ZlXHJcblxyXG5cdGxldCBsZWZ0ID0gICB0aGlzLmNvbGxpZGVMaW5lTGluZSh4MSx5MSx4Mix5MiwgcngscnkscngsIHJ5K3JoKTtcclxuXHRsZXQgcmlnaHQgPSAgdGhpcy5jb2xsaWRlTGluZUxpbmUoeDEseTEseDIseTIsIHJ4K3J3LHJ5LCByeCtydyxyeStyaCk7XHJcblx0bGV0IHRvcCA9ICAgIHRoaXMuY29sbGlkZUxpbmVMaW5lKHgxLHkxLHgyLHkyLCByeCxyeSwgcngrcncscnkpO1xyXG5cdGxldCBib3R0b20gPSB0aGlzLmNvbGxpZGVMaW5lTGluZSh4MSx5MSx4Mix5MiwgcngscnkrcmgsIHJ4K3J3LHJ5K3JoKTtcclxuXHRsZXQgaW50ZXJzZWN0aW9uID0ge1xyXG5cdFx0XCJsZWZ0XCIgOiBsZWZ0LFxyXG5cdFx0XCJyaWdodFwiIDogcmlnaHQsXHJcblx0XHRcInRvcFwiIDogdG9wLFxyXG5cdFx0XCJib3R0b21cIiA6IGJvdHRvbVxyXG5cdH1cclxuXHJcbiAgLy9pZiBBTlkgb2YgdGhlIGFib3ZlIGFyZSB0cnVlLCB0aGUgbGluZSBoYXMgaGl0IHRoZSByZWN0YW5nbGVcclxuICBpZiAobGVmdCB8fCByaWdodCB8fCB0b3AgfHwgYm90dG9tKSB7XHJcbiAgICAgIHJldHVybiBpbnRlcnNlY3Rpb247XHJcbiAgfVxyXG4gIHJldHVybiBmYWxzZTtcclxufVxyXG5leHBvcnRzLmNvbGxpZGVMaW5lUmVjdCA9IGNvbGxpZGVMaW5lUmVjdDsiLCJleHBvcnRzLmVycm9yID0gKHN0cmluZyk9PntcclxuXHRuZXcgRXJyb3Ioc3RyaW5nKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmFuZG9tQ29sb3IoKXtcclxuXHRyZXR1cm4ge1xyXG5cdFx0cjogTWF0aC5mbG9vcigyNTUqTWF0aC5yYW5kb20oKSksXHJcblx0XHRnOiBNYXRoLmZsb29yKDI1NSpNYXRoLnJhbmRvbSgpKSxcclxuXHRcdGI6IE1hdGguZmxvb3IoMjU1Kk1hdGgucmFuZG9tKCkpXHJcblx0fVxyXG59XHJcbmV4cG9ydHMucmFuZG9tQ29sb3IgPSByYW5kb21Db2xvcjtcclxuXHJcbmV4cG9ydHMubWlkUG9pbnQgPSAocG9pbnQxLCBwb2ludDIpPT57XHJcbiAgICBsZXQgbWlkZGxlWCA9IHBvaW50Mi54IC0gKChwb2ludDIueC1wb2ludDIueCkvMik7XHJcbiAgICBsZXQgbWlkZGxlWSA9IHBvaW50Mi55IC0gKChwb2ludDIueS1wb2ludDEueSkvMik7XHJcbiAgIHJldHVybiB7eDogbWlkZGxlWCwgeTogbWlkZGxlWX07XHJcbn1cclxuXHJcbmV4cG9ydHMucm90YXRlUG9pbnQgPSAoe2NlbnRlcj17eDowLCB5OjB9LCBwb2ludD17eDowLCB5OjB9LCBhbmdsZT0wfSk9PntcclxuICAgICAgICBsZXQgcyA9IE1hdGguc2luKGFuZ2xlKTtcclxuICAgICAgICBsZXQgYyA9IE1hdGguY29zKGFuZ2xlKTtcclxuXHJcbiAgICAgICAgLy9tYWtlIGNvcHlcclxuICAgICAgICBsZXQgbmV3UG9pbnQgPSB7eDogcG9pbnQueCwgeTogcG9pbnQueX07IFxyXG5cclxuICAgICAgICAvLyB0cmFuc2xhdGUgcG9pbnQgYmFjayB0byBvcmlnaW46XHJcbiAgICAgICAgbmV3UG9pbnQueCAtPSBjZW50ZXIueDtcclxuICAgICAgICBuZXdQb2ludC55IC09IGNlbnRlci55O1xyXG5cclxuICAgICAgICAvLyByb3RhdGUgcG9pbnRcclxuICAgICAgICBsZXQgeG5ldyA9IG5ld1BvaW50LnggKiBjIC0gbmV3UG9pbnQueSAqIHM7XHJcbiAgICAgICAgbGV0IHluZXcgPSBuZXdQb2ludC54ICogcyArIG5ld1BvaW50LnkgKiBjO1xyXG5cclxuICAgICAgICAvLyB0cmFuc2xhdGUgcG9pbnQgYmFjazpcclxuICAgICAgICBuZXdQb2ludC54ID0geG5ldyArIGNlbnRlci54O1xyXG4gICAgICAgIG5ld1BvaW50LnkgPSB5bmV3ICsgY2VudGVyLnk7XHJcbiAgICAgICAgcmV0dXJuIG5ld1BvaW50O1xyXG4gICAgfVxyXG5cclxuZXhwb3J0cy5leHRlbmRFbmRQb2ludCA9ICh7c3RhcnRQb2ludCwgZW5kUG9pbnQsIGxlbmd0aH0pPT57XHJcbiAgICBsZXQgY3VycmVudGxlbmd0aCA9IE1hdGguc3FydChcclxuICAgICAgICBNYXRoLnBvdyhzdGFydFBvaW50LnggLSBlbmRQb2ludC54LCAyLjApICsgXHJcbiAgICAgICAgTWF0aC5wb3coc3RhcnRQb2ludC55IC0gZW5kUG9pbnQueSwgMi4wKVxyXG4gICAgICAgICk7XHJcbiAgICBsZXQgYW1vdW50ID0gbGVuZ3RoIC0gY3VycmVudGxlbmd0aDtcclxuICAgIGxldCBuZXdFbmRQb2ludCA9IHtcclxuICAgICAgICB4OiBlbmRQb2ludC54ICsgKChlbmRQb2ludC54IC0gc3RhcnRQb2ludC54KSAvIGN1cnJlbnRsZW5ndGggKiBhbW91bnQpLFxyXG4gICAgICAgIHk6IGVuZFBvaW50LnkgKyAoKGVuZFBvaW50LnkgLSBzdGFydFBvaW50LnkpIC8gY3VycmVudGxlbmd0aCAqIGFtb3VudClcclxuICAgIH07XHJcbiAgICByZXR1cm4gbmV3RW5kUG9pbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRpc3QocG9pbnQxLCBwb2ludDIpe1xyXG4gICAgbGV0IGRpZmZYID0gTWF0aC5hYnMocG9pbnQxLnggLSBwb2ludDIueCk7XHJcbiAgICBsZXQgZGlmZlkgPSBNYXRoLmFicyhwb2ludDEueSAtIHBvaW50Mi55KTtcclxuICAgIGxldCBkaXN0YW5jZSA9IE1hdGguc3FydCgoTWF0aC5wb3coZGlmZlgsIDIpICsgTWF0aC5wb3coZGlmZlksMikpLCAyKTtcclxuICAgIHJldHVybiBkaXN0YW5jZTtcclxufVxyXG5leHBvcnRzLmRpc3QgPSBkaXN0O1xyXG5cclxuZXhwb3J0cy5jYWxjdWxhdGVBbmdsZSA9ICh7cG9pbnQxLCBwb2ludDIsIGNlbnRlclBvaW50PXt4OjAseTowfX0pPT57XHJcbiAgICBpZihwb2ludDEueCA9PT0gcG9pbnQyLnggJiYgcG9pbnQxLnkgPT09IHBvaW50Mi55KSByZXR1cm4gMDtcclxuXHJcbiAgICBsZXQgcDFUcmFucyA9IHt4OiBwb2ludDEueCAtIGNlbnRlclBvaW50LngsIHk6IHBvaW50MS55IC0gY2VudGVyUG9pbnQueX07XHJcbiAgICBsZXQgcDJUcmFucyA9IHt4OiBwb2ludDIueCAtIGNlbnRlclBvaW50LngsIHk6IHBvaW50Mi55IC0gY2VudGVyUG9pbnQueX07XHJcbiAgICAvLyBsZXQgZGlmZlggICA9IHAxVHJhbnMueCAtIHAyVHJhbnMueDtcclxuICAgIC8vIGxldCBkaWZmWSAgID0gcDFUcmFucy55IC0gcDJUcmFucy55O1xyXG4gICAgLy8gdmFyIGFuZ2xlUmFkaWFucyA9IE1hdGguYXRhbjIoZGlmZlksIGRpZmZYKTtcclxuICAgIGxldCBhbmdsZU9mUDEgPSBNYXRoLmF0YW4yKHAxVHJhbnMueSwgcDFUcmFucy54KTtcclxuICAgIGxldCBhbmdsZU9mUDIgPSBNYXRoLmF0YW4yKHAyVHJhbnMueSwgcDJUcmFucy54KTtcclxuICAgIGlmKGFuZ2xlT2ZQMSA8IDApIGFuZ2xlT2ZQMSA9IGFuZ2xlT2ZQMSArIE1hdGguUEkqMjtcclxuICAgIGlmKGFuZ2xlT2ZQMiA8IDApIGFuZ2xlT2ZQMiA9IGFuZ2xlT2ZQMiArIE1hdGguUEkqMjtcclxuICAgIGxldCBhbmdsZVJhZGlhbnMgPSBhbmdsZU9mUDIgLSBhbmdsZU9mUDE7XHJcbiAgICAvLyBpZihhbmdsZVJhZGlhbnMgPCAwKSBhbmdsZVJhZGlhbnMgPSAoYW5nbGVSYWRpYW5zICsgTWF0aC5QSSoyKTtcclxuICAgIHJldHVybiBhbmdsZVJhZGlhbnM7XHJcbiAgICAvLyBsZXQgYW5nbGVPZlAxID0gTWF0aC5hdGFuMihwMVRyYW5zLngsIHAxVHJhbnMueSk7XHJcbiAgICAvLyBsZXQgYW5nbGVPZlAyID0gTWF0aC5hdGFuMihwb2ludDIueSAtIGNlbnRlclBvaW50LnksIHBvaW50Mi54IC0gY2VudGVyUG9pbnQueCk7XHJcbiAgICAvLyBpZihhbmdsZU9mUDEgPCAwKSBhbmdsZU9mUDEgPSBhbmdsZU9mUDEgKyBNYXRoLlBJKjI7XHJcbiAgICAvLyBpZihhbmdsZU9mUDIgPCAwKSBhbmdsZU9mUDIgPSBhbmdsZU9mUDIgKyBNYXRoLlBJKjI7XHJcbiAgICAvL2FuZ2xlIGluIHJhZGlhbnNcclxuICAgIC8vIHJldHVybiAgYW5nbGVPZlAyIC0gYW5nbGVPZlAxO1xyXG59XHJcblxyXG5leHBvcnRzLm1hcE51bSA9ICh7aW5wdXQsIHN0YXJ0MSwgZW5kMSwgc3RhcnQyLCBlbmQyIH0pPT57XHJcbiAgICBpZihpbnB1dDxzdGFydDEpIGlucHV0ID0gc3RhcnQxO1xyXG4gICAgZWxzZSBpZihpbnB1dD5lbmQxKSBpbnB1dCA9IGVuZDE7XHJcbiAgICBsZXQgZGlmZlJhbmdlMSA9IGVuZDEgLSBzdGFydDE7XHJcbiAgICBsZXQgZnJhY3Rpb25PZkZpcnN0UmFuZ2UgPSAoaW5wdXQgLSBzdGFydDEpIC8gZGlmZlJhbmdlMTtcclxuICAgIGxldCBkaWZmUmFuZ2UyID0gZW5kMiAtIHN0YXJ0MjtcclxuICAgIHJldHVybiAoZGlmZlJhbmdlMipmcmFjdGlvbk9mRmlyc3RSYW5nZSkgKyBzdGFydDI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsb25lT2JqZWN0KG9iail7XHJcblx0Ly9tYWtlIGEgbmV3IG9iamVjdCB0byByZXR1cm5cclxuXHRsZXQgbmV3T2JqID0ge307XHJcblx0Ly9jb3B5IGFsbCBwcm9wZXJ0aWVzIG9udG8gbmV3b2JqZWN0XHJcblx0Zm9yKHZhciBpZCBpbiBvYmope1xyXG5cdFx0bGV0IHByb3BlcnkgPSBvYmpbaWRdO1xyXG5cdFx0aWYodHlwZW9mIHByb3BlcnkgPT09ICdvYmplY3QnICYmIHByb3BlcnkgIT09IG51bGwpe1xyXG5cdFx0XHRuZXdPYmpbaWRdID0gY2xvbmVPYmplY3QocHJvcGVyeSk7XHJcblx0XHR9XHJcblx0XHRpZihwcm9wZXJ5ICE9PSBudWxsKXtcclxuXHRcdFx0bmV3T2JqW2lkXSA9IHByb3Blcnk7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBuZXdPYmo7XHJcbn1cclxuZXhwb3J0cy5jbG9uZU9iamVjdCA9IGNsb25lT2JqZWN0O1xyXG5cclxuZnVuY3Rpb24gbWVtb3J5U2l6ZU9mKG9iaikge1xyXG4gICAgdmFyIGJ5dGVzID0gMDtcclxuXHJcbiAgICBmdW5jdGlvbiBzaXplT2Yob2JqKSB7XHJcbiAgICAgICAgaWYob2JqICE9PSBudWxsICYmIG9iaiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCh0eXBlb2Ygb2JqKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XHJcbiAgICAgICAgICAgICAgICBieXRlcyArPSA4O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XHJcbiAgICAgICAgICAgICAgICBieXRlcyArPSBvYmoubGVuZ3RoICogMjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdib29sZWFuJzpcclxuICAgICAgICAgICAgICAgIGJ5dGVzICs9IDQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcclxuICAgICAgICAgICAgICAgIHZhciBvYmpDbGFzcyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopLnNsaWNlKDgsIC0xKTtcclxuICAgICAgICAgICAgICAgIGlmKG9iakNsYXNzID09PSAnT2JqZWN0JyB8fCBvYmpDbGFzcyA9PT0gJ0FycmF5Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIga2V5IGluIG9iaikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZighb2JqLmhhc093blByb3BlcnR5KGtleSkpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplT2Yob2JqW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBieXRlcyArPSBvYmoudG9TdHJpbmcoKS5sZW5ndGggKiAyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJ5dGVzO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBmb3JtYXRCeXRlU2l6ZShieXRlcykge1xyXG4gICAgICAgIGlmKGJ5dGVzIDwgMTAyNCkgcmV0dXJuIGJ5dGVzICsgXCIgYnl0ZXNcIjtcclxuICAgICAgICBlbHNlIGlmKGJ5dGVzIDwgMTA0ODU3NikgcmV0dXJuKGJ5dGVzIC8gMTAyNCkudG9GaXhlZCgzKSArIFwiIEtpQlwiO1xyXG4gICAgICAgIGVsc2UgaWYoYnl0ZXMgPCAxMDczNzQxODI0KSByZXR1cm4oYnl0ZXMgLyAxMDQ4NTc2KS50b0ZpeGVkKDMpICsgXCIgTWlCXCI7XHJcbiAgICAgICAgZWxzZSByZXR1cm4oYnl0ZXMgLyAxMDczNzQxODI0KS50b0ZpeGVkKDMpICsgXCIgR2lCXCI7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBmb3JtYXRCeXRlU2l6ZShzaXplT2Yob2JqKSk7XHJcbn07IC8vbWVtb3J5U2l6ZU9mIFxyXG5leHBvcnRzLm1lbW9yeVNpemVPZiA9IG1lbW9yeVNpemVPZjsiXSwic291cmNlUm9vdCI6IiJ9